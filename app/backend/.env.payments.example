# Payment Service Environment Variables Template

# ============================================
# STRIPE CONFIGURATION
# ============================================
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Webhook signing secret from https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_test_your_webhook_secret_here

# ============================================
# BLOCKCHAIN RPC ENDPOINTS
# ============================================
# Get free API keys from:
# - Alchemy: https://www.alchemy.com/
# - Infura: https://www.infura.io/
# - Geth/Parity: Run your own node

# Ethereum mainnet RPC
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/your-api-key
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/your-api-key

# Polygon (Matic) RPC
POLYGON_RPC_URL=https://polygon-rpc.com
MATIC_RPC_URL=https://polygon-rpc.com

# Bitcoin (requires separate service)
BITCOIN_RPC_URL=https://bitcoin-rpc-provider.com

# ============================================
# SMART CONTRACT ADDRESSES
# ============================================
# Ethereum Mainnet Addresses

# Native ETH (not a contract, used for reference)
ETHEREUM_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# USDC (Circle's USD Coin)
USDC_CONTRACT_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48

# USDT (Tether)
USDT_CONTRACT_ADDRESS=0xdAC17F958D2ee523a2206206994597C13D831ec7

# DAI (MakerDAO)
DAI_CONTRACT_ADDRESS=0x6B175474E89094C44Da98b954EedeAC495271d0F

# Polygon Mainnet Addresses
MATIC_CONTRACT_ADDRESS=0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0

# ============================================
# WALLET ADDRESSES
# ============================================
# Your payment collection wallet (Ethereum)
ETH_PAYMENT_WALLET=0x1234567890123456789012345678901234567890

# Your Polygon payment wallet
POLYGON_PAYMENT_WALLET=0x0987654321098765432109876543210987654321

# ============================================
# FRAUD DETECTION
# ============================================
# MaxMind GeoIP License Key (for geolocation fraud detection)
# Get from: https://www.maxmind.com/en/geoip2-services-and-databases
MAXMIND_LICENSE_KEY=your_maxmind_license_key

# Fraud risk threshold (0-100)
# 0-20 = low risk (accept)
# 20-50 = medium risk (review)
# 50-100 = high risk (reject)
FRAUD_RISK_THRESHOLD=50

# ============================================
# REDIS CONFIGURATION
# ============================================
# For caching and velocity checks
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ============================================
# DATABASE
# ============================================
DATABASE_PATH=./database.sqlite
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=payment_user
DATABASE_PASSWORD=secure_password
DATABASE_NAME=payments

# ============================================
# ENVIRONMENT & SERVER
# ============================================
NODE_ENV=development
PORT=3000
API_PREFIX=/api/v1

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable payment methods
ENABLE_STRIPE_PAYMENTS=true
ENABLE_CRYPTO_PAYMENTS=true
ENABLE_ETHEREUM=true
ENABLE_POLYGON=true
ENABLE_BITCOIN=false

# Fraud detection settings
ENABLE_FRAUD_DETECTION=true
ENABLE_VELOCITY_CHECKS=true
ENABLE_GEO_CHECKS=true

# Payment retry settings
MAX_PAYMENT_RETRIES=3
PAYMENT_RETRY_DELAY_MS=60000

# ============================================
# NOTIFICATIONS (Optional)
# ============================================
# For payment confirmation emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=payments@gatheraa.com

# ============================================
# WEBHOOKS
# ============================================
# Webhook endpoints
STRIPE_WEBHOOK_URL=https://yourdomain.com/webhooks/payments/stripe
BLOCKCHAIN_WEBHOOK_URL=https://yourdomain.com/webhooks/payments/blockchain

# Webhook secret keys
BLOCKCHAIN_WEBHOOK_SECRET=your_blockchain_webhook_secret

# ============================================
# COINBASE COMMERCE (Optional)
# ============================================
# If using Coinbase Commerce for crypto
COINBASE_API_KEY=your_coinbase_api_key
COINBASE_WEBHOOK_SECRET=your_coinbase_webhook_secret

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================
# MONITORING & ANALYTICS
# ============================================
# Sentry error tracking (optional)
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# DataDog APM (optional)
DD_AGENT_HOST=localhost
DD_TRACE_AGENT_PORT=8126

# ============================================
# TIMEOUTS & LIMITS
# ============================================
# Transaction confirmation timeout (milliseconds)
CRYPTO_CONFIRMATION_TIMEOUT=3600000

# Rate limiting
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_REQUESTS=100

# Payment amount limits
MIN_PAYMENT_AMOUNT=0.01
MAX_PAYMENT_AMOUNT=999999.99

# Refund grace period (hours)
REFUND_GRACE_PERIOD_HOURS=24

# ============================================
# OTHER SERVICES
# ============================================
# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# API keys for external services
STRIPE_API_VERSION=2024-04-10
ALCHEMY_API_KEY=your-alchemy-api-key
INFURA_PROJECT_ID=your-infura-project-id
